<div class="page-header"><h1><%= gt.gettext("Configuration") %></h1></div>

<p class="important"><%= gt.gettext("Cette page permet de gérer différentes configurations de recalbox tel que les paramètres Wi-Fi, la timezone, la locale, etc.") %></p>

<form method="post" action="/configuration" class="form-horizontal">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= gt.gettext("Options système") %></h3>
    </div>
    <div class="panel-body">
      <div class="form-group">
        <label for="system-language" class="col-md-4 control-label"><%= gt.gettext("Langue du système") %></label>
        <div class="col-md-6">
          <select name="system.language" id="system-language" class="selectpicker show-tick form-control" data-select data-live-search="true">
          <% systemlocales.forEach(function (item) { %>
            <option value="<%= item.key %>"<% if (system.language == item.key) { %> selected="selected"<% } %>>
              <%= item.value %>
            </option>
          <% }); %>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="keyboardlayout" class="col-md-4 control-label"><%= gt.gettext("Layout du clavier") %></label>
        <div class="col-md-6">
          <select name="system.kblayout" id="keyboardlayout" class="selectpicker show-tick form-control" data-select data-live-search="true">
          <% keyboardlayouts.forEach(function (item) { %>
            <option value="<%= item.key %>"<% if (system.kblayout == item.key) { %> selected="selected"<% } %>>
              <%= item.value %>
            </option>
          <% }); %>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="timezone" class="col-md-4 control-label"><%= gt.gettext("Timezone") %></label>
        <div class="col-md-6">
          <select name="system.timezone" id="timezone" class="selectpicker show-tick form-control" data-select="timezone" data-live-search="true">
            <option value="">&dash;</option>
          <% timezones.forEach(function (timezone) { %>
            <option value="<%= timezone %>"<% if (system.timezone == timezone) { %> selected="selected"<% } %>>
              <%= timezone %>
            </option>
          <% }); %>
          </select>
        </div>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= gt.gettext("Options réseau") %></h3>
    </div>
    <div class="panel-body">
      <div class="form-group">
        <label for="hostname" class="col-md-4 control-label"><%= gt.gettext("Nom d'hôte") %></label>
        <div class="col-md-6">
          <% var hostName = gt.gettext("Nom d'hôte") %>
          <input type="text" name="system.hostname" id="hostname" class="form-control" placeholder="<%= hostName %>" value="<%= system.hostname %>">
        </div>
      </div>
      <div class="form-group">
        <label for="wifi-enabled" class="col-md-4 control-label"><%= gt.gettext("Activer le wifi") %></label>
        <div class="col-md-6">
          <input type="hidden" name="wifi.enabled" value="0">
          <input type="checkbox" name="wifi.enabled" value="1" id="wifi-enabled" data-switch<% if (1 == wifi.enabled) { %> checked="checked"<% } %>>
        </div>
      </div>

      <div class="well">
        <div class="alert alert-warning" role="alert">
          <%= gt.gettext("Attention, si vous vous trompez dans vos informations vous risquez de ne plus pouvoir accéder à votre recalbox par le wifi.") %>
        </div>

        <div class="form-group">
          <label for="wifi-ssid" class="col-md-4 control-label"><%= gt.gettext("SSID") %></label>
          <div class="col-md-6">
            <input type="text" name="wifi.ssid" class="form-control" id="wifi-ssid" placeholder="<%= gt.gettext('SSID') %>" value="<%= wifi.ssid %>">
          </div>
        </div>
        <div class="form-group">
          <label for="wifi-key" class="col-md-4 control-label"><%= gt.gettext("Clé") %></label>
          <div class="col-md-6">
            <input type="text" name="wifi.key" class="form-control" id="wifi-key" placeholder="<%= gt.gettext('Clé') %>" value="<%= wifi.key %>">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= gt.gettext("Options Kodi") %></h3>
    </div>
    <div class="panel-body">
      <div class="form-group">
        <label for="kodi-enabled" class="col-md-4 control-label"><%= gt.gettext("Activer Kodi") %></label>
        <div class="col-md-6">
          <input type="hidden" name="kodi.enabled" value="0">
          <input type="checkbox" name="kodi.enabled" value="1" id="kodi-enabled" data-switch<% if (1 == kodi.enabled) { %> checked="checked"<% } %>>
        </div>
      </div>
      <div class="form-group">
        <label for="kodi-atstartup" class="col-md-4 control-label"><%= gt.gettext("Lancer Kodi au démarrage") %></label>
        <div class="col-md-6">
          <input type="hidden" name="kodi.atstartup" value="0">
          <input type="checkbox" name="kodi.atstartup" value="1" id="kodi-atstartup" data-switch<% if (1 == kodi.atstartup) { %> checked="checked"<% } %>>
        </div>
      </div>
      <div class="form-group">
        <label for="kodi-xbutton" class="col-md-4 control-label"><%- gt.gettext("Lancer Kodi via la touche <kbd>X</kbd>") %></label>
        <div class="col-md-6">
          <input type="hidden" name="kodi.xbutton" value="0">
          <input type="checkbox" name="kodi.xbutton" value="1" id="kodi-xbutton" data-switch<% if (1 == kodi.xbutton) { %> checked="checked"<% } %>>
        </div>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= gt.gettext("EmulationStation") %></h3>
    </div>
    <div class="panel-body">
      <h4><%= gt.gettext("Choix du style de menu") %></h4>

      <div class="bs-callout bs-callout-warning">
        <h4><%= gt.gettext("Options disponibles :") %></h4>
        <ul>
          <li><strong>default</strong> <%= gt.gettext("correspond au menu de base avec toutes les options,") %></li>
          <li><strong>none</strong> <%= gt.gettext("n'offre aucun menu excepté celui de recherche de jeux,") %></li>
          <li><strong>bartop</strong> <%= gt.gettext("comporte peu de menu, seulement ceux nécessaires pour les bartops.") %></li>
        </ul>
      </div>

      <select name="system.es.menu" class="selectpicker show-tick form-control" data-select data-live-search="true">
      <% esMenus.forEach(function (item) { %>
        <option value="<%= item %>"<% if (system.es.menu == item) { %> selected="selected"<% } %>>
          <%= item %>
        </option>
      <% }); %>
      </select>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= gt.gettext("Touche spéciale") %></h3>
    </div>
    <div class="panel-body">
      <h4><%= gt.gettext("Choix du comportement de la touche spéciale dans les émulateurs") %></h4>

      <div class="bs-callout bs-callout-warning">
        <h4><%= gt.gettext("Options disponibles :") %></h4>
        <ul>
          <li><strong>default</strong> <%= gt.gettext("correspond au fonctionnement de base avec toutes les possibilités,") %></li>
          <li><strong>nomenu</strong> <%= gt.gettext("désactive l'affichage du menu,") %></li>
          <li><strong>none</strong> <%= gt.gettext("désactive la touche spéciale.") %></li>
        </ul>
      </div>

      <select name="system.emulators.specialkeys" class="selectpicker show-tick form-control" data-select data-live-search="true">
      <% emulatorsSpecialkeys.forEach(function (item) { %>
        <option value="<%= item %>"<% if (system.es.menu == item) { %> selected="selected"<% } %>>
          <%= item %>
        </option>
      <% }); %>
      </select>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= gt.gettext("API") %></h3>
    </div>
    <div class="panel-body">
      <div class="alert alert-warning">
        <span class="glyphicon glyphicon-alert" aria-hidden="true"></span>
        <span class="sr-only"><%= gt.gettext("Attention :") %></span>
        <%= gt.gettext("Cette modification nécessite de redémarrer votre recalbox pour être prise en compte.") %>
      </div>

      <div class="form-group">
        <label for="api-enabled" class="col-md-7 control-label"><%= gt.gettext("Activer l'option de recalbox qui permet d'interagir avec via une API REST") %></label>
        <div class="col-md-3">
          <input type="hidden" name="system.api.enabled" value="0">
          <input type="checkbox" name="system.api.enabled" value="1" id="api-enabled" data-switch<% if (1 == system.api.enabled) { %> checked="checked"<% } %>>
        </div>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= gt.gettext("Mises à jour") %></h3>
    </div>
    <div class="panel-body">
      <div class="form-group">
        <label for="updates-enabled" class="col-md-7 control-label"><%= gt.gettext("Vérifier les mises à jours au démarrage du système") %></label>
        <div class="col-md-3">
          <input type="hidden" name="updates.enabled" value="0">
          <input type="checkbox" name="updates.enabled" value="1" id="updates-enabled" data-switch<% if (1 == updates.enabled) { %> checked="checked"<% } %>>
        </div>
      </div>
      <div class="form-group">
        <label for="update-type" class="col-md-7 control-label"><%= gt.gettext("Type de version") %></label>
        <div class="col-md-3">
          <select name="updates.type" id="updates-type" class="selectpicker show-tick form-control" data-select data-live-search="true">
          <% updatesTypes.forEach(function (item) { %>
            <option value="<%= item.key %>"<% if (updates.type == item.key) { %> selected="selected"<% } %>>
              <%= item.value %>
            </option>
          <% }); %>
          </select>
        </div>
      </div>
    </div>
  </div>

  <p>
    <a href="/configuration" class="btn btn-danger"><%= gt.gettext("Annuler") %></a>
    <button type="submit" class="btn btn-success"><%= gt.gettext("Enregistrer") %></button>
  </p>
</form>
